/*! gulp-boiler-3 v0.0.1 | (c) 2020  | MIT License | http://link-to-your-git-repo.com */
const domready=function(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},serialForm=function(e){let t=[];return Array.prototype.slice.call(e.elements).forEach((function(e){!e.name||e.disabled||["file","reset","submit","button"].indexOf(e.type)>-1||("select-multiple"!==e.type?["checkbox","radio"].indexOf(e.type)>-1&&!e.checked||t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)):Array.prototype.slice.call(e.options).forEach((function(n){n.selected&&t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(n.value))})))})),t.join("&")},emitEvent=function(e,t,n){if(!e)return;t=t||window,n=n||{};let o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t.dispatchEvent(o)},showApp=()=>document.getElementById("app").classList.add("loaded");function fetchAndDecode(e,t){return fetch(e).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return"json"===t?e.json():"text"===t?e.text():void 0}).catch(t=>{console.log(`There has been a problem with your fetch operation for resource "${e}": `+t.message)})}document.addEventListener("click",(function(e){e.target.matches("#click-me")&&alert("You clicked me!")}),!1),events.on("click",".click",(function(e){var t=e.target;console.log(t)}));let page=fetchAndDecode("https://nwp-cgn.de/api/data/?f=app4","json"),hsp=fetchAndDecode("https://nwp-cgn.de/api/app/hsp/","json"),file=fetchAndDecode("https://nwp-cgn.de/api/app/file/","json");const initData=()=>{Promise.all([hsp,file,page]).then(e=>{console.log(e);let t=JSON.stringify(e[2],null,2),n=document.createElement("pre");n.textContent=t,document.querySelector("#out").appendChild(n)}).then(()=>{emitEvent("dataReady",window,{greeting:"DB fetch OK!"})})};window.addEventListener("dataReady",(function(e){console.log(e.detail),console.log("Init Data Ready"),showApp()}),!1),domready((function(){console.log("The DOM is ready!"),Promise.all([hsp,file,page]).then(e=>{console.log(e);let t=JSON.stringify(e[2],null,2),n=document.createElement("pre");n.textContent=t,document.querySelector("#out").appendChild(n)}).then(()=>{emitEvent("dataReady",window,{greeting:"DB fetch OK!"})})})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);